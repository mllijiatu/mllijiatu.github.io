---
layout:     post
title:      计算机组成原理（数据表示）
subtitle:   李嘉图的博客
date:       2020-05-13
author:     李嘉图
header-img: img/about-LJT.jpg
catalog: false
tags:
- 计算机组成原理
---

**机器数及特点**

机器内的数据表示：
1. 真值：符号用“+”、“-”表示的数据表示方法。
2. 机器数：符号数值化的数据表示方法, 用0、1表示符号。
3. 三种常见的机器数：设定点数的形式为X0 X1 X2 X3 … Xn

![zwt]({{site.baseurl}}/img-post/yl21.png)


---

**原码**：

1. 表示简单
2. 运算复杂：符号位不参加运算，要设置加法、减法器。
3. 0的表示**不唯一**

[X]原 + [Y]原
（不能直接判定是执行加法还是减法运算，分同号和异号）

---
**反码**

1. 表示相对原码复杂 0
2. 0的表示**不唯一**
3. 运算相对原码简单：符号位参加运算,只需要设置加法器，但符号位的进位位需要加到最低位。


---

**补码**

1. 表示相对原码复杂
2. 0的表示**唯一**
3. 运算简单：只需设置加法器。


补码中模的概念 （符号位进位后所在位的权值）

---
**移码**（增码）

具体实现：数值位与X的补码相同，符号位与补码相反。
 
移码表示浮点数的阶码，IEEE754中阶码用移码表示。

设定点整数X的移码形式为X0X1X2X3…Xn

则移码的定义是：
[X]移= 2^n + X ,-2^n < X < 2^n

(X为真值，n为X的整数位位数)

---
**定点数据表示**

可表示定点小数和整数

表现形式：X0 . X1 X2 X3 X4 ……..Xn

定点数据表示数的**不足**：数据表示范围受限

---
**浮点数据表示**

浮点数的使用场合:

当数的表示范围超出了定点数能表示的范围时。

把数的范围和精度分别表示的一种数据表示方法

格式（一般格式）：

![zwt]({{site.baseurl}}/img-post/yl22.png)

**IEEE 754格式**

![zwt]({{site.baseurl}}/img-post/yl23.png)

**指数采用偏移值**，其中单精度偏移值为**127**，双精度为**1023**，

将浮点数的阶码值变成非负整数,便于浮点数的比较和排序。

IEEE754尾数形式为1.XXXXXX,其中M部分保存的是XXXXXX(1被隐藏)，从而可保留更多的有效位，提高数据表示的精确度。


---

与上述IEEE754格式相对应的32位浮点数的真值可表示为:


![zwt]({{site.baseurl}}/img-post/yl24.png)


IEEE754 32位浮点数与对应真值之间的变换流程


![zwt]({{site.baseurl}}/img-post/yl25.png)

![zwt]({{site.baseurl}}/img-post/yl26.png)

---

**奇偶校验的基本原理**

1. 增加冗余码（校验位），有效信息(k位)，校验信息(r=1位) 
2. 编码：根据有效信息计算校验信息位，使校验码（数据＋1位校验信息）中1的个数满足奇/偶校验的要求

**奇偶校验的特点**
1. 编码与检错简单
2. 编码效率高 
3. 不能定位错误，因此不具备纠错能力
4. 不能检测偶数位错误,无错结论不可靠，是一种**错误检测码**

**奇偶校验的码距**

![zwt]({{site.baseurl}}/img-post/yl27.png)


---
**CRC校验及其实现**

1. 增加冗余码（校验位）

**有效信息(k位) 校验信息(r位)**

N=k+r ≤ 2^r－1 
2. 生成多项式G(x),收发双方约定的一个(r+1)位二进制数，发送方利用G(X)对信息多项式**做模2除运算**,生成校验码。接收方利用G(X)对收到的编码多项式做模2除运算检测差错及错误定位。


**G(x)应满足的条件**

A、最高位和最低位必须为1；

B、当被传送信息（CRC码）任何一位发生错误时，被生成多项式做除后应该使余数不为0；

C、不同位发生错误时，模2除运算后余数不同；

D、对不为0余数继续进行模2除运算应使余数循环


常见生成多项式G(x)

![zwt]({{site.baseurl}}/img-post/yl28.png)


---

**模2运算规则**

1. 加/减运算 (异或运算，加不进位，减不借位)

 0±0＝0，0±1＝1，1±0＝1，1±1＝0

2. 模2除法，按模2减，求部分余数，不借位。
3. 上商原则

①部分余数首位为1时，商为1，减除数；

②部分余数首位为0时，商为0，减0；

③当部分余数的位数小于除数的位数时，该余数即为最后余数。

![zwt]({{site.baseurl}}/img-post/yl29.png)

**利用出错情况下余数的循环特性进行纠错，当位数增多时，循环码校验能有效地降低硬件代价，这是它得以广泛应用的主要原因。**

---
 **海明校验及其实现**

![zwt]({{site.baseurl}}/img-post/yl210.png)

![zwt]({{site.baseurl}}/img-post/yl211.png)
